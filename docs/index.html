<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>prct10</title><meta name="description" content="Documentation for prct10"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">prct10</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>prct10</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#práctica-10---apis-asíncronas-de-gestión-del-sistema-de-ficheros-creación-de-procesos-y-creación-de-sockets-de-nodejs---ricardo-fariña-mesa" id="práctica-10---apis-asíncronas-de-gestión-del-sistema-de-ficheros-creación-de-procesos-y-creación-de-sockets-de-nodejs---ricardo-fariña-mesa" style="color: inherit; text-decoration: none;">
  <h1>Práctica 10 - APIs asíncronas de gestión del sistema de ficheros, creación de procesos y creación de sockets de Node.js - Ricardo Fariña Mesa</h1>
</a>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h2>Introducción</h2>
</a>
<p>En esta práctica se va a trabajar con el módulo <code>fs</code> de <code>Node.js</code> para la gestión de ficheros, creación de procesos y creación de sockets. </p>
<ul>
<li>Se va a trabajar con el lenguaje de programación <code>TypeScript</code> y se va a utilizar el entorno de desarrollo <code>Visual Studio Code</code>. </li>
<li>Se utilizará el módulo <code>net</code> para la creación de sockets, creando conexiones entre cliente y servidor. </li>
<li>Se utilizará el módulo <code>child_process</code> para la creación de procesos.</li>
</ul>

<a href="#desarrollo" id="desarrollo" style="color: inherit; text-decoration: none;">
  <h2>Desarrollo</h2>
</a>

<a href="#ejercicio-1" id="ejercicio-1" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 1</h3>
</a>
<p>En este primer ejercicio, se verá el siguiente código fuente TypeScript que hace uso del módulo <code>fs</code> de <code>Node.js</code>:</p>
<pre><code class="language-Typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">access</span><span class="hl-1">, </span><span class="hl-2">constants</span><span class="hl-1">, </span><span class="hl-2">watch</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">length</span><span class="hl-1"> !== </span><span class="hl-4">3</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Please, specify a file&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">filename</span><span class="hl-1"> = </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">[</span><span class="hl-4">2</span><span class="hl-1">];</span><br/><br/><span class="hl-1">  </span><span class="hl-5">access</span><span class="hl-1">(</span><span class="hl-2">filename</span><span class="hl-1">, </span><span class="hl-2">constants</span><span class="hl-1">.</span><span class="hl-7">F_OK</span><span class="hl-1">, (</span><span class="hl-2">err</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">err</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`File </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3"> does not exist`</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`Starting to watch file </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><br/><span class="hl-1">      </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">watcher</span><span class="hl-1"> = </span><span class="hl-5">watch</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">[</span><span class="hl-4">2</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">      </span><span class="hl-2">watcher</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;change&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`File </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3"> has been modified somehow`</span><span class="hl-1">);</span><br/><span class="hl-1">      });</span><br/><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`File </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3"> is no longer watched`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>  Se guarda el contenido en <code>src/ejercicio1.ts</code> como <code>test.ts</code> y se crea el archivo de texto <code>helloworld.txt</code> para que se tenga un archivo al que observar. A través de la compilación con el uso de <code>tsc</code> se genera en la carpeta ``/dist<code>el archivo</code>test.js<code>que se ejecuta con el comando</code>node dist/test.js helloworld.txt` y se obtiene el siguiente resultado:</p>
<pre><code class="language-bash"><span class="hl-1">  Starting </span><span class="hl-3">to</span><span class="hl-1"> </span><span class="hl-3">watch</span><span class="hl-1"> </span><span class="hl-3">file</span><span class="hl-1"> </span><span class="hl-3">helloworld.txt</span><br/><span class="hl-1">  File </span><span class="hl-3">helloworld.txt</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-1"> </span><span class="hl-3">been</span><span class="hl-1"> </span><span class="hl-3">modified</span><span class="hl-1"> </span><span class="hl-3">somehow</span>
</code></pre>
<p>En el caso de que se modifique el archivo <code>helloworld.txt</code> se obtiene el siguiente resultado:</p>
<pre><code class="language-bash"><span class="hl-1">File </span><span class="hl-3">helloworld.txt</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-1"> </span><span class="hl-3">been</span><span class="hl-1"> </span><span class="hl-3">modified</span><span class="hl-1"> </span><span class="hl-3">somehow</span><br/><span class="hl-1">File </span><span class="hl-3">helloworld.txt</span><span class="hl-1"> </span><span class="hl-3">has</span><span class="hl-1"> </span><span class="hl-3">been</span><span class="hl-1"> </span><span class="hl-3">modified</span><span class="hl-1"> </span><span class="hl-3">somehow</span>
</code></pre>
<p>Se añaden estas líneas, comprobando de que el archivo que se observa se está modificando.
A nivel de traza de ejecucución, el programa se ejecuta de la siguiente manera:</p>
<ul>
<li><p>Se comprueba que el número de argumentos sea 3, ya que el primero será el comando de ejecución(<code>node</code>), el segundo el programa a ejecutar(<code>test.js</code>) y el tercero el archivo a observar(<code>helloworld.txt</code>). En el caso de que no se cumpla la condición, se muestra un mensaje de error.</p>
</li>
<li><p>Se almacena el nombre del archivo a observar en la variable <code>filename</code>.</p>
</li>
<li><p>Se llama a la función <code>access</code> del módulo <code>fs</code> pasándole como parámetros el nombre del archivo a observar, la constante <code>F_OK</code> que indica que se quiere comprobar que el archivo existe. Al llamar a la función <code>access</code> se añade una nueva entrada a la pila de llamadas.</p>
</li>
<li><p>En el caso de que el archivo no exista, se muestra un mensaje de error y se elimina la entrada de la pila de llamadas.</p>
</li>
<li><p>En el caso de que el archivo exista, se muestra un mensaje de inicio de observación del archivo, se llama a la función <code>watch</code> del módulo <code>fs</code> pasándole como parámetro el nombre del archivo a observar. Al llamar a la función <code>watch</code> se añade una nueva entrada a la pila de llamadas.</p>
</li>
<li><p>Cuando se modifica el archivo <code>helloworld.txt</code>, se detecta el cambio en el archivo y se añade un nuevo evento <code>change</code> a la cola de manejadores que se ejecuta cuando se vacía la pila de llamadas.  </p>
</li>
<li><p>Una vez se ha ejecutado el programa, se muestra por consola el mensaje <code>File helloworld.txt is no longer watched</code>, y se elimina la entrada de la pila de llamadas.</p>
</li>
</ul>

<a href="#ejercicio-2" id="ejercicio-2" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 2</h3>
</a>
<p>  En este segundo ejercicio se ha desarrollado un programa que permite obtener a través del uso la terminal el número de líneas, palabras o caracteres que componen al fichero que seleccionemos. Para ello se ha realizado dos programas diferentes para implementarlo:</p>
<ul>
<li>Haciendo uso del método <code>Pipe</code> de un Stream para poder redirigir la salida de un comando hacia otro.</li>
<li>Sin hacer uso del método <code>Pipe</code>, solamente creando los subprocesos necesarios y registrando manejadores a aquellos eventos necesarios para implementar la funcionalidad solicitada.</li>
</ul>
<p>  Primero se ha desarrollado la clase abstracta <code>Base</code> que contiene los métodos y atributos comunes a las clases <code>Pipe</code> y <code>NoPipe</code>:</p>
<pre><code class="language-Typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-6">abstract</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-8">Base</span><span class="hl-1"> {</span><br/><br/><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-2">ruta</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {}</span><br/><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-6">abstract</span><span class="hl-1"> </span><span class="hl-5">lineas</span><span class="hl-1">: (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><br/><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-6">abstract</span><span class="hl-1"> </span><span class="hl-5">palabras</span><span class="hl-1">: (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><br/><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-6">abstract</span><span class="hl-1"> </span><span class="hl-5">caracteres</span><span class="hl-1">: (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><br/><br/><span class="hl-1">}</span>
</code></pre>
<p>  Esta clase abstracta se ha desarrollado en las dos diferentes clases, donde una utiliza el método <code>Pipe</code> y la otra no. En el caso de la clase <code>Pipe</code> se ha desarrollado de la siguiente manera:</p>
<pre><code class="language-Typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">spawn</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;child_process&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Base</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./Base.js&#39;</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-8">Pipe</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-8">Base</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * El constructor de la clase `Pipe` recibe la ruta del archivo a leer.</span><br/><span class="hl-9">   * </span><span class="hl-6">@param</span><span class="hl-9"> </span><span class="hl-2">ruta</span><span class="hl-9"> Ruta del archivo a leer.</span><br/><span class="hl-9">   */</span><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-2">ruta</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-2">ruta</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-5">lineas</span><span class="hl-1"> = (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">): </span><span class="hl-8">void</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-6">undefined</span><span class="hl-1">)</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">wc</span><span class="hl-1"> = </span><span class="hl-5">spawn</span><span class="hl-1">(</span><span class="hl-3">&#39;/usr/bin/wc&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;-l&#39;</span><span class="hl-1">, </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">])</span><br/><span class="hl-1">    </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">output</span><span class="hl-1"> = </span><span class="hl-3">&#39;&#39;</span><br/><span class="hl-1">    </span><span class="hl-2">wc</span><span class="hl-1">.</span><span class="hl-2">stdout</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-2">chunk</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">output</span><span class="hl-1"> += </span><span class="hl-2">chunk</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">()</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-2">wc</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;exit&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-5">parseInt</span><span class="hl-1">(</span><span class="hl-2">output</span><span class="hl-1">.</span><span class="hl-5">split</span><span class="hl-1">(</span><span class="hl-3">&#39; &#39;</span><span class="hl-1">)[</span><span class="hl-4">0</span><span class="hl-1">]) + </span><span class="hl-4">1</span><span class="hl-1">)</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-5">palabras</span><span class="hl-1"> = (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">): </span><span class="hl-8">void</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-6">undefined</span><span class="hl-1">)</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">wc</span><span class="hl-1"> = </span><span class="hl-5">spawn</span><span class="hl-1">(</span><span class="hl-3">&#39;/usr/bin/wc&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;-w&#39;</span><span class="hl-1">, </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">])</span><br/><span class="hl-1">    </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">output</span><span class="hl-1"> = </span><span class="hl-3">&#39;&#39;</span><br/><span class="hl-1">    </span><span class="hl-2">wc</span><span class="hl-1">.</span><span class="hl-2">stdout</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-2">chunk</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">output</span><span class="hl-1"> += </span><span class="hl-2">chunk</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">()</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-2">wc</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;exit&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-5">parseInt</span><span class="hl-1">(</span><span class="hl-2">output</span><span class="hl-1">.</span><span class="hl-5">split</span><span class="hl-1">(</span><span class="hl-3">&#39; &#39;</span><span class="hl-1">)[</span><span class="hl-4">0</span><span class="hl-1">]))</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-5">caracteres</span><span class="hl-1"> = (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">): </span><span class="hl-8">void</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-6">undefined</span><span class="hl-1">)</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">wc</span><span class="hl-1"> = </span><span class="hl-5">spawn</span><span class="hl-1">(</span><span class="hl-3">&#39;/usr/bin/wc&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;-m&#39;</span><span class="hl-1">, </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">])</span><br/><span class="hl-1">    </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">output</span><span class="hl-1"> = </span><span class="hl-3">&#39;&#39;</span><br/><span class="hl-1">    </span><span class="hl-2">wc</span><span class="hl-1">.</span><span class="hl-2">stdout</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-2">chunk</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">output</span><span class="hl-1"> += </span><span class="hl-2">chunk</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">()</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-2">wc</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;exit&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-5">parseInt</span><span class="hl-1">(</span><span class="hl-2">output</span><span class="hl-1">.</span><span class="hl-5">split</span><span class="hl-1">(</span><span class="hl-3">&#39; &#39;</span><span class="hl-1">)[</span><span class="hl-4">0</span><span class="hl-1">]))</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/>
</code></pre>
<p>En el caso de la clase <code>NoPipe</code> se ha desarrollado de la siguiente manera:</p>
<pre><code class="language-Typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">, { </span><span class="hl-2">createReadStream</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Base</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./Base.js&#39;</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-8">NoPipe</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-8">Base</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-2">ruta</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-2">ruta</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-5">lineas</span><span class="hl-1"> = (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">): </span><span class="hl-8">void</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-6">undefined</span><span class="hl-1">)</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">readStream</span><span class="hl-1"> = </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">createReadStream</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">, </span><span class="hl-3">&#39;utf8&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">lineas</span><span class="hl-1"> = </span><span class="hl-4">0</span><br/><span class="hl-1">    </span><span class="hl-2">readStream</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-2">chunk</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">lineas</span><span class="hl-1"> += </span><span class="hl-2">chunk</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">().</span><span class="hl-5">split</span><span class="hl-1">(</span><span class="hl-10">/\r\n</span><span class="hl-11">|</span><span class="hl-10">\r</span><span class="hl-11">|</span><span class="hl-10">\n/</span><span class="hl-1">).</span><span class="hl-2">length</span><span class="hl-1"> </span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-2">readStream</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;end&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-2">lineas</span><span class="hl-1">)</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-5">palabras</span><span class="hl-1"> = (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">): </span><span class="hl-8">void</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-6">undefined</span><span class="hl-1">)</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">readStream</span><span class="hl-1"> = </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">createReadStream</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">, </span><span class="hl-3">&#39;utf8&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">palabras</span><span class="hl-1"> = </span><span class="hl-4">0</span><br/><span class="hl-1">    </span><span class="hl-2">readStream</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-2">chunk</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">palabras</span><span class="hl-1"> += </span><span class="hl-2">chunk</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">().</span><span class="hl-5">replace</span><span class="hl-1">(</span><span class="hl-10">/\s</span><span class="hl-12">+</span><span class="hl-10">/</span><span class="hl-6">g</span><span class="hl-1">, </span><span class="hl-3">&#39;</span><span class="hl-13">\n</span><span class="hl-3">&#39;</span><span class="hl-1">).</span><span class="hl-5">split</span><span class="hl-1">(</span><span class="hl-10">/\n/</span><span class="hl-1">).</span><span class="hl-2">length</span><span class="hl-1"> </span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-2">readStream</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;end&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-2">palabras</span><span class="hl-1">)</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-5">caracteres</span><span class="hl-1"> = (</span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">data</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">): </span><span class="hl-8">void</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-6">undefined</span><span class="hl-1">)</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">readStream</span><span class="hl-1"> = </span><span class="hl-5">createReadStream</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">ruta</span><span class="hl-1">, </span><span class="hl-3">&#39;utf8&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">caracteres</span><span class="hl-1"> = </span><span class="hl-4">0</span><br/><span class="hl-1">    </span><span class="hl-2">readStream</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-2">chunk</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">caracteres</span><span class="hl-1"> += </span><span class="hl-2">chunk</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">().</span><span class="hl-2">length</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-2">readStream</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;end&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-2">caracteres</span><span class="hl-1">)</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>  Por último, se ha desarrollado una clase <code>main</code> que contiene el código necesario para ejecutar el programa. En este caso, se ha desarrollado de la siguiente manera:</p>
<pre><code class="language-Typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">hideBin</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs/helpers&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">access</span><span class="hl-1">, </span><span class="hl-2">constants</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Pipe</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./Pipe.js&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">NoPipe</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./NoPipe.js&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">yargs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs&#39;</span><br/><br/><span class="hl-5">yargs</span><span class="hl-1">(</span><span class="hl-5">hideBin</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">))</span><br/><span class="hl-1">.</span><span class="hl-5">command</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&#39;file&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">  </span><span class="hl-3">&#39;Muestra la información seleccionada sobre el fichero.&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-2">fichero:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">description:</span><span class="hl-1"> </span><span class="hl-3">&#39;Ficxhero del que se quiere obtener información.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">demandOption:</span><span class="hl-1"> </span><span class="hl-6">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-2">usopipe:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">description:</span><span class="hl-1"> </span><span class="hl-3">&#39;Indica si se usa o no el pipe.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;boolean&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">demandOption:</span><span class="hl-1"> </span><span class="hl-6">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-2">lineas:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">description:</span><span class="hl-1"> </span><span class="hl-3">&#39;Obtiene el número de líneas del fichero.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;boolean&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">demandOption:</span><span class="hl-1"> </span><span class="hl-6">false</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-2">palabras:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">description:</span><span class="hl-1"> </span><span class="hl-3">&#39;Obtiene el número de palabras del fichero.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;boolean&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">demandOption:</span><span class="hl-1"> </span><span class="hl-6">false</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-2">caracteres:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">description:</span><span class="hl-1"> </span><span class="hl-3">&#39;Obtiene el número de caracteres del fichero.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;boolean&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">demandOption:</span><span class="hl-1"> </span><span class="hl-6">false</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}, (</span><span class="hl-2">argv</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1">(</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">_</span><span class="hl-1">[</span><span class="hl-4">0</span><span class="hl-1">] !== </span><span class="hl-3">&#39;file&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Error, ha introducido un comando no reconocido.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-5">access</span><span class="hl-1">(</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">fichero</span><span class="hl-1">, </span><span class="hl-2">constants</span><span class="hl-1">.</span><span class="hl-7">F_OK</span><span class="hl-1">, (</span><span class="hl-2">err</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">err</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`No existe el archivo </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">usopipe</span><span class="hl-1"> == </span><span class="hl-6">true</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">pipe</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Pipe</span><span class="hl-1">(</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">fichero</span><span class="hl-1">)</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">lineas</span><span class="hl-1"> == </span><span class="hl-6">true</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-2">pipe</span><span class="hl-1">.</span><span class="hl-5">lineas</span><span class="hl-1">((</span><span class="hl-2">data</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`El fichero </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3"> tiene </span><span class="hl-6">${</span><span class="hl-2">data</span><span class="hl-6">}</span><span class="hl-3"> líneas.`</span><span class="hl-1">)</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">palabras</span><span class="hl-1"> == </span><span class="hl-6">true</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-2">pipe</span><span class="hl-1">.</span><span class="hl-5">palabras</span><span class="hl-1">((</span><span class="hl-2">data</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`El fichero </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3"> tiene </span><span class="hl-6">${</span><span class="hl-2">data</span><span class="hl-6">}</span><span class="hl-3"> palabras.`</span><span class="hl-1">)</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">caracteres</span><span class="hl-1"> == </span><span class="hl-6">true</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-2">pipe</span><span class="hl-1">.</span><span class="hl-5">caracteres</span><span class="hl-1">((</span><span class="hl-2">data</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`El fichero </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3"> tiene </span><span class="hl-6">${</span><span class="hl-2">data</span><span class="hl-6">}</span><span class="hl-3"> caracteres.`</span><span class="hl-1">)</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-5">access</span><span class="hl-1">(</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">fichero</span><span class="hl-1">, </span><span class="hl-2">constants</span><span class="hl-1">.</span><span class="hl-7">F_OK</span><span class="hl-1">, (</span><span class="hl-2">err</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">err</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`No existe el archivo </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">usopipe</span><span class="hl-1"> == </span><span class="hl-6">false</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">pipe</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">NoPipe</span><span class="hl-1">(</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">fichero</span><span class="hl-1">)</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">lineas</span><span class="hl-1"> == </span><span class="hl-6">true</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-2">pipe</span><span class="hl-1">.</span><span class="hl-5">lineas</span><span class="hl-1">((</span><span class="hl-2">data</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`El fichero </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3"> tiene </span><span class="hl-6">${</span><span class="hl-2">data</span><span class="hl-6">}</span><span class="hl-3"> líneas.`</span><span class="hl-1">)</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">palabras</span><span class="hl-1"> == </span><span class="hl-6">true</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-2">pipe</span><span class="hl-1">.</span><span class="hl-5">palabras</span><span class="hl-1">((</span><span class="hl-2">data</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`El fichero </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3"> tiene </span><span class="hl-6">${</span><span class="hl-2">data</span><span class="hl-6">}</span><span class="hl-3"> palabras.`</span><span class="hl-1">)</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">caracteres</span><span class="hl-1"> == </span><span class="hl-6">true</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-2">pipe</span><span class="hl-1">.</span><span class="hl-5">caracteres</span><span class="hl-1">((</span><span class="hl-2">data</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`El fichero </span><span class="hl-6">${</span><span class="hl-2">argv</span><span class="hl-14">.</span><span class="hl-2">fichero</span><span class="hl-6">}</span><span class="hl-3"> tiene </span><span class="hl-6">${</span><span class="hl-2">data</span><span class="hl-6">}</span><span class="hl-3"> caracteres.`</span><span class="hl-1">)</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><span class="hl-1">.</span><span class="hl-5">help</span><span class="hl-1">()</span><br/><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">;</span>
</code></pre>
<p>  En el código anterior, se ha utilizado la librería <code>yargs</code> para poder utilizar los argumentos de entrada. En este caso, se ha utilizado el comando <code>file</code> para poder obtener la información del fichero. Además, se ha utilizado el comando <code>usopipe</code> para poder indicar si se quiere utilizar el pipe o no. Por último, se ha utilizado el comando <code>lineas</code>, <code>palabras</code> y <code>caracteres</code> para poder obtener la información del fichero, los cuales son opcionales. En el caso de que un usuario no introduzca ningún comando, se le mostrará un mensaje de error. Además, se ha utilizado el comando <code>help</code> para poder mostrar la ayuda del programa. A su vez, se comprueba si el fichero existe o no, en caso de que no exista, se le mostrará un mensaje de error al usuario.</p>
<p>  La ejecución del programa se realiza de la siguiente manera:</p>
<pre><code><span class="hl-2">node</span><span class="hl-1"> </span><span class="hl-2">main</span><span class="hl-1">.</span><span class="hl-2">js</span><span class="hl-1"> </span><span class="hl-2">file</span><span class="hl-1"> --</span><span class="hl-2">fichero</span><span class="hl-1"> </span><span class="hl-3">&quot;Ruta_del_fichero&quot;</span><span class="hl-1"> --</span><span class="hl-2">usopipe</span><span class="hl-1"> </span><span class="hl-3">&quot;true or false&quot;</span><span class="hl-1"> [--</span><span class="hl-2">lineas</span><span class="hl-1">] [--</span><span class="hl-2">palabras</span><span class="hl-1">] [--</span><span class="hl-2">caracteres</span><span class="hl-1">]</span>
</code></pre>

<a href="#ejercicio-3---cliente-y-servidor-para-aplicación-de-registro-de-funko-pops" id="ejercicio-3---cliente-y-servidor-para-aplicación-de-registro-de-funko-pops" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 3 - Cliente y servidor para aplicación de registro de Funko Pops</h3>
</a>
<p>  Como último ejercicio, se utilizará el código de la práctica anterior de la asignatura sobre el registro de Funko Pops, solo que se ha modificado para mejorar el código y evitar sus errores anteriores y poder realizar una conexión cliente/servidor.</p>

<a href="#ejercicio-pe103" id="ejercicio-pe103" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio PE103</h3>
</a>
<p>  Para la modificación realizada en clase, se ha solicitado que se realice un código cliente/servidor. En este caso, el cliente se conecta con el servidor y envía un comando. El servidor, al recibirlo, ejecuta dicho comando bash y devuelve la salida al cliente. El cliente, al recibir la salida, la muestra por pantalla.</p>

<a href="#cliente" id="cliente" style="color: inherit; text-decoration: none;">
  <h4>Cliente</h4>
</a>
<pre><code class="language-Typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">net</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;net&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">program</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;commander&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">program</span><br/><span class="hl-1">.</span><span class="hl-5">arguments</span><span class="hl-1">(</span><span class="hl-3">&#39;&lt;command&gt; [arguments...]&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">.</span><span class="hl-5">description</span><span class="hl-1">(</span><span class="hl-3">&#39;Envía un comando al servidor&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">.</span><span class="hl-5">action</span><span class="hl-1">((</span><span class="hl-2">args</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">client</span><span class="hl-1"> = </span><span class="hl-2">net</span><span class="hl-1">.</span><span class="hl-5">connect</span><span class="hl-1">({ </span><span class="hl-2">port:</span><span class="hl-1"> </span><span class="hl-4">60300</span><span class="hl-1"> });</span><br/><br/><br/><span class="hl-1">  </span><span class="hl-2">client</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, </span><span class="hl-2">data</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">data</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">().</span><span class="hl-5">trim</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-2">client</span><span class="hl-1">.</span><span class="hl-5">end</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-2">client</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;end&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`Connected to server. Sending command: </span><span class="hl-6">${</span><span class="hl-2">args</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Muestra mensaje&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">client</span><span class="hl-1">.</span><span class="hl-5">write</span><span class="hl-1">(</span><span class="hl-3">`</span><span class="hl-6">${</span><span class="hl-2">args</span><span class="hl-14">.</span><span class="hl-5">join</span><span class="hl-14">(</span><span class="hl-3">&#39; &#39;</span><span class="hl-14">)</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Disconnected from server.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">program</span><span class="hl-1">.</span><span class="hl-5">parse</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">);</span>
</code></pre>

<a href="#servidor" id="servidor" style="color: inherit; text-decoration: none;">
  <h4>Servidor</h4>
</a>
<pre><code class="language-Typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">net</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;net&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">exec</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;child_process&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">server</span><span class="hl-1"> = </span><span class="hl-2">net</span><span class="hl-1">.</span><span class="hl-5">createServer</span><span class="hl-1">(</span><span class="hl-2">connection</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Client connected.&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">connection</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;data&#39;</span><span class="hl-1">, </span><span class="hl-2">data</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> [</span><span class="hl-7">command</span><span class="hl-1">, ...</span><span class="hl-7">args</span><span class="hl-1">] = </span><span class="hl-2">data</span><span class="hl-1">.</span><span class="hl-5">toString</span><span class="hl-1">().</span><span class="hl-5">trim</span><span class="hl-1">().</span><span class="hl-5">split</span><span class="hl-1">(</span><span class="hl-3">&#39; &#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`Received command: </span><span class="hl-6">${</span><span class="hl-2">command</span><span class="hl-6">}</span><span class="hl-3"> </span><span class="hl-6">${</span><span class="hl-2">args</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">exec</span><span class="hl-1">(</span><span class="hl-3">`</span><span class="hl-6">${</span><span class="hl-2">command</span><span class="hl-6">}</span><span class="hl-3"> </span><span class="hl-6">${</span><span class="hl-2">args</span><span class="hl-14">.</span><span class="hl-5">join</span><span class="hl-14">(</span><span class="hl-3">&#39; &#39;</span><span class="hl-14">)</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">, (</span><span class="hl-2">error</span><span class="hl-1">, </span><span class="hl-2">stdout</span><span class="hl-1">, </span><span class="hl-2">stderr</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">output</span><span class="hl-1"> = </span><span class="hl-2">error</span><span class="hl-1"> ? </span><span class="hl-2">stderr</span><span class="hl-1"> : </span><span class="hl-2">stdout</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">connection</span><span class="hl-1">.</span><span class="hl-5">write</span><span class="hl-1">(</span><span class="hl-2">output</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">connection</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;close&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Client disconnected.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">PORT</span><span class="hl-1"> = </span><span class="hl-4">60300</span><span class="hl-1">;</span><br/><span class="hl-2">server</span><span class="hl-1">.</span><span class="hl-5">listen</span><span class="hl-1">(</span><span class="hl-7">PORT</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`Server listening on port </span><span class="hl-6">${</span><span class="hl-7">PORT</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/>
</code></pre>

<a href="#tests" id="tests" style="color: inherit; text-decoration: none;">
  <h2>Tests</h2>
</a>
<p>  Se han realizado una serie de tests para comprobar el correcto funcionamiento de los ejercicios realizados. Para ello se han utilizado los módulos <code>mocha</code> y <code>chai</code>. A su vez, se ha añadido el módulo <code>c8</code> para poder realizar el coverage de los tests, ya que <code>coveralls</code> no tiene soporte en <code>Node.js</code>. Al ejecutar los tests, se obtiene el siguiente resultado:</p>
<pre><code><span class="hl-1">[~/</span><span class="hl-2">practica</span><span class="hl-1">-</span><span class="hl-4">10</span><span class="hl-1">-</span><span class="hl-2">mod</span><span class="hl-1">/</span><span class="hl-2">dist</span><span class="hl-1">/</span><span class="hl-2">Ejercicio</span><span class="hl-1">-</span><span class="hl-4">3</span><span class="hl-1">/</span><span class="hl-5">FunkoApp</span><span class="hl-1">(</span><span class="hl-2">main</span><span class="hl-1">)]</span><span class="hl-2">$npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">coverage</span><br/><br/><span class="hl-1">&gt; </span><span class="hl-2">prct10</span><span class="hl-1">@</span><span class="hl-4">1.0</span><span class="hl-1">.</span><span class="hl-4">0</span><span class="hl-1"> </span><span class="hl-2">coverage</span><br/><span class="hl-1">&gt; </span><span class="hl-2">c8</span><span class="hl-1"> </span><span class="hl-2">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">c8</span><span class="hl-1"> </span><span class="hl-2">report</span><span class="hl-1"> --</span><span class="hl-2">reporter</span><span class="hl-1">=</span><span class="hl-2">lcov</span><br/><br/><br/><span class="hl-1">&gt; </span><span class="hl-2">prct10</span><span class="hl-1">@</span><span class="hl-4">1.0</span><span class="hl-1">.</span><span class="hl-4">0</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><span class="hl-1">&gt; </span><span class="hl-2">mocha</span><br/><br/><span class="hl-1">(</span><span class="hl-2">node</span><span class="hl-1">:</span><span class="hl-4">43561</span><span class="hl-1">) ExperimentalWarning: Custom ESM Loaders is an experimental feature and might change at any time</span><br/><span class="hl-1">(</span><span class="hl-2">Use</span><span class="hl-1"> </span><span class="hl-3">`node --trace-warnings ...`</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-2">show</span><span class="hl-1"> </span><span class="hl-2">where</span><span class="hl-1"> </span><span class="hl-2">the</span><span class="hl-1"> </span><span class="hl-2">warning</span><span class="hl-1"> </span><span class="hl-2">was</span><span class="hl-1"> </span><span class="hl-2">created</span><span class="hl-1">)</span><br/><br/><br/><span class="hl-1">  --Ejercicio 2 pruebas--</span><br/><span class="hl-1">    ✔ usoPipe debe ser una instancia de Pipe.</span><br/><span class="hl-1">    ✔ usoPipe está compuesto de 4 líneas.</span><br/><span class="hl-1">    ✔ usoPipe contiene 4 palabras</span><br/><span class="hl-1">    ✔ usoPipe tiene 34 caracteres.</span><br/><span class="hl-1">    ✔ usoPipe devuelve undefined si se selecciona un fichero que no existe.</span><br/><span class="hl-1">    ✔ noUsoPipe es una instacia de NoPipe</span><br/><span class="hl-1">    ✔ noUsoPipe está compuesto por 4 líneas.</span><br/><span class="hl-1">    ✔ noUsoPipe está compuesto de 4 palabras.</span><br/><span class="hl-1">    ✔ noUsoPipe está compuesto por 34 palabras</span><br/><span class="hl-1">    ✔ noUsoPipe debe devolver undefined en el caso de que no exista el fichero.</span><br/><br/><span class="hl-1">  FunkoApp</span><br/><span class="hl-1">    ✔ Deberia cargar los datos.</span><br/><span class="hl-1">    ✔ Carga los datos del funko.</span><br/><span class="hl-1">    ✔ Almacena los datos del usuario.</span><br/><span class="hl-1">    ✔ Añade un funko al usuario.</span><br/><span class="hl-1">    ✔ No añade al funko.</span><br/><span class="hl-1">    ✔ Modifica uno de los funkos.</span><br/><span class="hl-1">    ✔ No modifica </span><br/><span class="hl-1">    ✔ should get a funko</span><br/><span class="hl-1">    ✔ should list funkos</span><br/><span class="hl-1">    ✔ should read a funko by id</span><br/><span class="hl-1">    ✔ should not read a funko by id</span><br/><span class="hl-1">    ✔ should delete a funko</span><br/><span class="hl-1">    ✔ should not delete a funko</span><br/><br/><br/><span class="hl-1">  23 passing (128ms)</span><br/><br/><span class="hl-1">----------------------|---------|----------|---------|---------|-------------------</span><br/><span class="hl-1">File                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s </span><br/><span class="hl-1">----------------------|---------|----------|---------|---------|-------------------</span><br/><span class="hl-1">All files             |   98.96 |    98.24 |     100 |   98.96 |                   </span><br/><span class="hl-1"> Ejercicio-2          |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1">  Base.ts             |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1">  NoPipe.ts           |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1">  Pipe.ts             |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1"> Ejercicio-3/Funko    |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1">  Funko.ts            |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1">  FunkoGenres.ts      |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1">  FunkoTypes.ts       |     100 |      100 |     100 |     100 |                   </span><br/><span class="hl-1"> Ejercicio-3/FunkoApp |   97.59 |    95.65 |     100 |   97.59 |                   </span><br/><span class="hl-1">  FunkoApp.ts         |   97.59 |    95.65 |     100 |   97.59 | 58-62             </span><br/><span class="hl-1">----------------------|---------|----------|---------|---------|-------------------</span>
</code></pre>

<a href="#conclusiones" id="conclusiones" style="color: inherit; text-decoration: none;">
  <h2>Conclusiones</h2>
</a>
<p>  A través del desarrollo de los diferentes ejercicios, se ha llegado a la conclusión de lo necesario y útil que es el uso de los sistemas cliente/servidor tanto para la conexión entre diferentes programas como para la conexión entre diferentes dispositivos. Además, se ha podido comprobar la importancia de la modularización del código, ya que permite que el código sea más legible y fácil de mantener. También estos aspectos ayudan a que el código sea más fácil de testear, ya que se pueden realizar tests unitarios de cada módulo y así comprobar que cada uno de ellos funciona correctamente.</p>

<a href="#bibliografía" id="bibliografía" style="color: inherit; text-decoration: none;">
  <h2>Bibliografía</h2>
</a>
<ul>
<li><a href="https://nodejs.org/es/">Node.js</a></li>
<li><a href="https://expressjs.com/es/">Express</a></li>
<li><a href="https://socket.io/">Socket.io</a></li>
<li><a href="https://mochajs.org/">Mocha</a></li>
<li><a href="https://www.chaijs.com/">Chai</a></li>
</ul>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">prct10</a>
<ul>
<li class="tsd-kind-module"><a href="modules/Ejercicio_1_test.html">Ejercicio-<wbr/>1/test</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_2_Base.html">Ejercicio-<wbr/>2/<wbr/>Base</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_2_NoPipe.html">Ejercicio-<wbr/>2/<wbr/>No<wbr/>Pipe</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_2_Pipe.html">Ejercicio-<wbr/>2/<wbr/>Pipe</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_2_main.html">Ejercicio-<wbr/>2/main</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_3_Funko_Funko.html">Ejercicio-<wbr/>3/<wbr/>Funko/<wbr/>Funko</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_3_Funko_FunkoGenres.html">Ejercicio-<wbr/>3/<wbr/>Funko/<wbr/>Funko<wbr/>Genres</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_3_Funko_FunkoTypes.html">Ejercicio-<wbr/>3/<wbr/>Funko/<wbr/>Funko<wbr/>Types</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_3_Funko_InterfaceFunko.html">Ejercicio-<wbr/>3/<wbr/>Funko/<wbr/>Interface<wbr/>Funko</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_3_FunkoApp_Client.html">Ejercicio-<wbr/>3/<wbr/>Funko<wbr/>App/<wbr/>Client</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_3_FunkoApp_FunkoApp.html">Ejercicio-<wbr/>3/<wbr/>Funko<wbr/>App/<wbr/>Funko<wbr/>App</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_3_FunkoApp_Server.html">Ejercicio-<wbr/>3/<wbr/>Funko<wbr/>App/<wbr/>Server</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_PE103_Client.html">Ejercicio-<wbr/>PE103/<wbr/>Client</a></li>
<li class="tsd-kind-module"><a href="modules/Ejercicio_PE103_Server.html">Ejercicio-<wbr/>PE103/<wbr/>Server</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>